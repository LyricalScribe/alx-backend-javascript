# jest-leak-detector

Module for verifying whether an object has been garbage collected or not.

Internally creates a weak reference to the object, and forces garbage collection to happen. If the reference is gone, it meant no one else was pointing to the object.

## Example

```javascript
(async function () {
  let reference = {};
  let isLeaking;

  const detector = new LeakDetector(reference);

<<<<<<< HEAD
// Reference is held in memory.
console.log(detector.isLeaked()); // true
=======
  // Reference is held in memory.
  isLeaking = await detector.isLeaking();
  console.log(isLeaking); // true
>>>>>>> 74277b58428b76b5d4577f14d767a83dccdacaf2

  // We destroy the only reference to the object.
  reference = null;

<<<<<<< HEAD
// Reference is gone.
console.log(detector.isLeaked()); // false
=======
  // Reference is gone.
  isLeaking = await detector.isLeaking();
  console.log(isLeaking); // false
})();
>>>>>>> 74277b58428b76b5d4577f14d767a83dccdacaf2
```
